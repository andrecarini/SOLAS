<!--
Template: results_display.html
Purpose: Rich HTML display for pipeline results
Usage: Load with load_template('results_display.html', **kwargs)
Variables:
  - total_runtime: Total pipeline runtime in seconds (float)
  - audio_duration: Podcast audio duration in seconds (float)
  - real_time_factor: TTS real-time factor (float)
  - stage_metrics_html: HTML string with stage-by-stage metrics
  - original_transcript: Original ASR transcript text
  - translated_transcript: Translated transcript text
  - key_points_summary: Key points summary text
  - podcast_script: Podcast script text
  - audio_path: Path to podcast audio file
  - output_directory: Output directory path
  - file_links_html: HTML string with file download links
Note: This template includes all CSS styles inline
-->

<style>
/* Template-specific classes (CSS variables from _common.css) */
.results-container {
    font-family: 'Roboto', 'Segoe UI', sans-serif;
    max-width: 1200px;
    margin: 20px auto;
    padding: 24px;
    background: var(--color-bg-primary);
    border: 1px solid var(--color-border);
    border-radius: 8px;
    box-shadow: 0 1px 2px rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);
}
.section {
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 1px solid var(--color-border);
}
.section:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}
h1 {
    color: var(--color-primary);
    font-weight: 400;
    text-align: center;
    margin-bottom: 32px;
    font-size: 28px;
}
h2 {
    color: var(--color-text-primary);
    font-size: 20px;
    font-weight: 500;
    margin-top: 0;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
}
h2::before {
    content: '';
    display: block;
    width: 4px;
    height: 24px;
    background: var(--color-primary);
    margin-right: 12px;
    border-radius: 2px;
}
.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 20px;
    margin-bottom: 24px;
}
.metric-card {
    background: var(--color-bg-secondary);
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    border: 1px solid var(--color-border);
}
.metric-card h4 {
    margin: 0 0 8px 0;
    font-size: 14px;
    color: var(--color-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 500;
}
.metric-value {
    font-size: 32px;
    font-weight: 300;
    color: var(--color-primary);
    margin: 0;
}
.metric-label {
    font-size: 13px;
    color: var(--color-text-secondary);
    margin-top: 4px;
}
.stage-metrics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 12px;
}
.stage-card {
    background: var(--color-bg-primary);
    padding: 12px 16px;
    border-radius: 6px;
    border: 1px solid var(--color-border);
    border-left: 4px solid var(--color-success);
}
.stage-card h5 {
    margin: 0 0 8px 0;
    color: var(--color-text-primary);
    font-size: 14px;
    font-weight: 500;
}
.stage-card p {
    margin: 2px 0;
    font-size: 13px;
    color: var(--color-text-secondary);
}
.text-content {
    background: var(--color-bg-secondary);
    color: var(--color-text-primary);
    padding: 20px;
    border-radius: 8px;
    border: 1px solid var(--color-border);
    white-space: pre-wrap;
    max-height: 500px;
    overflow-y: auto;
    font-family: 'Roboto Mono', monospace;
    font-size: 13px;
    line-height: 1.6;
}
.audio-player {
    background: var(--color-bg-secondary);
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    border: 1px solid var(--color-border);
}
.file-link {
    display: inline-block;
    margin: 8px 12px 8px 0;
    padding: 8px 16px;
    background-color: var(--color-bg-primary);
    color: var(--color-primary);
    text-decoration: none;
    border: 1px solid var(--color-border);
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}
.file-link:hover {
    background-color: var(--color-bg-secondary);
    border-color: var(--color-primary);
    text-decoration: none;
}
</style>

<div class="results-container">
    <h1 style="text-align: center; color: var(--color-primary);">üéôÔ∏è SOLAS Pipeline Results</h1>
    
    <div class="section">
        <h2>üìä Performance Metrics</h2>
        <div class="metrics-grid">
            <div class="metric-card">
                <h4>Total Runtime</h4>
                <div class="metric-value">{total_runtime}</div>
                <div class="metric-label">Complete Pipeline</div>
            </div>
            <div class="metric-card">
                <h4>Audio Duration</h4>
                <div class="metric-value">{audio_duration}</div>
                <div class="metric-label">Podcast Length</div>
            </div>
            <div class="metric-card">
                <h4>Real-Time Factor</h4>
                <div class="metric-value">{real_time_factor}</div>
                <div class="metric-label">TTS Speed</div>
            </div>
        </div>
        
        <h3>Stage-by-Stage Performance</h3>
        <div class="stage-metrics">
            {stage_metrics_html}
        </div>
    </div>
    
    <div class="section">
        <h2>üìù Original Transcript</h2>
        <div class="text-content">{original_transcript}</div>
    </div>
    
    <div class="section">
        <h2>üåê Translated Transcript</h2>
        <div class="text-content">{translated_transcript}</div>
    </div>
    
    <div class="section">
        <h2>üîë Key Points Summary</h2>
        <div class="text-content">{key_points_summary}</div>
    </div>
    
    <div class="section">
        <h2>üìú Podcast Script</h2>
        <div class="text-content">{podcast_script}</div>
    </div>

    <div class="section">
        <h2>üéµ Podcast Audio</h2>
        <p style="color: var(--color-text-secondary); margin-bottom: 15px;">Listen to the generated podcast:</p>
<!-- AUDIO_WIDGET_PLACEHOLDER -->
    </div>

    <div class="section">
        <h2>üìÅ Output Files</h2>
        <p style="color: var(--color-text-secondary); margin-bottom: 10px;">All output files have been saved to:</p>
        <p style="font-family: monospace; color: var(--color-primary); margin-bottom: 15px;"><strong>{output_directory}</strong></p>
        <p style="color: var(--color-text-secondary); margin-bottom: 15px;">Click the buttons below to download:</p>
<!-- BUTTONS_WIDGET_PLACEHOLDER -->
    </div>
</div>

